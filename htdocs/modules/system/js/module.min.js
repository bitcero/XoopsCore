function module_Detail(t){var o=$("#mid-"+t).position();$("#detail-"+t).css({position:"absolute","box-shadow":"2px 2px 1px #888",top:o.top+"px",left:o.left+"px"}),$("#detail-"+t).slideDown(600)}function module_Disable(t,o,e){$.post("admin.php",{fct:"modulesadmin",op:"active",mid:t},function(i,n){"success"==n&&(i?($("#active-"+t).html('<span class="icon icon-tick"></span>'+o),$("#active-table-"+t).html('<span class="icon icon-tick">&nbsp;</span>')):($("#active-"+t).html('<span class="icon icon-cross"></span>'+e),$("#active-table-"+t).html('<span class="icon icon-cross">&nbsp;</span>')))})}function module_Hide(t){$.post("modules.php",{op:"display_in_menu",mid:t},function(o,e){"success"==e&&$("#menu-hide-"+t).html(0!=o?'<span class="cursorpointer icon icon-cross">&nbsp;</span>':'<span class="cursorpointer icon icon-tick">&nbsp;</span>')})}function module_Install(t){$(".modal-backdrop").show(),$("#install-dir").val(t),$("#install .modal-data").html($("#data-"+t+" .module_card").html()),$("#install").show("slow")}function module_Uninstall(t){$(".modal-backdrop").show(),$("#uninstall-id").val(t),$("#uninstall .modal-data").html($("#data-"+t+" .module_card").html()),$("#uninstall").show("slow")}!function(t){function o(o){t("body").xoPreload();var e={XOOPS_TOKEN_REQUEST:t("#xo-token").val(),op:"update",mid:o};return t.post("modules.php",e,function(o){return"error"==o.type?(xoops.modal.alert(o.message),t("body").xoPreload({action:"hide"}),!1):(xoops.modal.dialog({title:o.title,message:o.content,color:"primary",id:"module-details",buttons:{main:{label:o.close,className:"btn-primary"}}}),void t("body").xoPreload({action:"hide"}))},"json"),!1}function e(o,e,i){var n={XOOPS_TOKEN_REQUEST:t("#xo-token").val(),op:"change-view",logo_mode:i,mode:e};t("#view-canvas").xoPreload({action:"show"}),t.post("modules.php",n,function(o){return o.error?(xoops.notify({title:o.message.title,text:o.message.text,delay:7e3,type:"danger",nonblock:{nonblock:!0,nonblock_opactity:.2}}),t("#view-canvas").xoPreload({action:"hide"}),!1):(t("#view-canvas > #table-installed-modules,#view-canvas > #cards-installed-modules").fadeOut(250,function(){t(this).remove(),t("#view-canvas").html(o.content),t("#view-canvas").xoPreload({action:"hide"})}),void t("#view-canvas").data("mode",o.mode))},"json")}var i={};t(document).ready(function(){t("body").on("click","*[data-action]",function(){var o=t(this).data("id"),e=t(this).data("action").replace("-","_");return"function"==typeof i[e]?i[e](o):!1}),t("input[name='view_mode'],input[name='view_logo']").change(function(){var o=t("#view-canvas");if("view_mode"==t(this).attr("name")&&o.data("mode")==t(this).data("mode"))return!1;var i="view_mode"==t(this).attr("name")?t(this).data("mode"):t(".header-commands input[name='view_mode']:checked").data("mode"),n="view_logo"==t(this).attr("name")?t(this).data("mode"):t(".header-commands input[name='view_logo']:checked").data("mode");e(t(this),i,n)}),t(".rename").editable("admin.php?fct=modulesadmin&op=rename",{indicator:"<img src='../../media/xoops/images/spinner.gif'>",cssclass:"span2"}),t("body").on("click",'[data-action="module-info"]',function(){t("body").xoPreload();var o={XOOPS_TOKEN_REQUEST:t("#xoops-token").val(),op:"details",mid:t(this).data("mid")};return t.get("modules.php",o,function(o){return o.error?(xoops.modal.alert(o.message),t("body").xoPreload({action:"hide"}),!1):(xoops.modal.dialog({title:o.title,message:o.content,color:"primary",id:"module-details",buttons:{main:{label:o.close,className:"btn-primary"}}}),void t("body").xoPreload({action:"hide"}))},"json"),!1}),t("body").on("click",'[data-action="module-update"]',function(){return confirm(xoLang.confirmUpdate)&&o(t(this).data("id")),!1})})}(jQuery);
