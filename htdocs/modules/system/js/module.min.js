function module_Detail(a){var o=$("#mid-"+a).position();$("#detail-"+a).css({position:"absolute","box-shadow":"2px 2px 1px #888",top:o.top+"px",left:o.left+"px"}),$("#detail-"+a).slideDown(600)}function module_Disable(a,o,e){$.post("admin.php",{fct:"modulesadmin",op:"active",mid:a},function(t,n){"success"==n&&(t?($("#active-"+a).html('<span class="icon icon-tick"></span>'+o),$("#active-table-"+a).html('<span class="icon icon-tick">&nbsp;</span>')):($("#active-"+a).html('<span class="icon icon-cross"></span>'+e),$("#active-table-"+a).html('<span class="icon icon-cross">&nbsp;</span>')))})}function module_Hide(a){$.post("modules.php",{op:"display_in_menu",mid:a},function(o,e){"success"==e&&$("#menu-hide-"+a).html(0!=o?'<span class="cursorpointer icon icon-cross">&nbsp;</span>':'<span class="cursorpointer icon icon-tick">&nbsp;</span>')})}function module_Install(a){$(".modal-backdrop").show(),$("#install-dir").val(a),$("#install .modal-data").html($("#data-"+a+" .module_card").html()),$("#install").show("slow")}function module_Update(a){$(".modal-backdrop").show(),$("#update-id").val(a),$("#update .modal-data").html($("#data-"+a+" .module_card").html()),$("#update").show("slow")}function module_Uninstall(a){$(".modal-backdrop").show(),$("#uninstall-id").val(a),$("#uninstall .modal-data").html($("#data-"+a+" .module_card").html()),$("#uninstall").show("slow")}!function(a){function o(a){alert(a)}function e(o,e,t){var n={XOOPS_TOKEN_REQUEST:a("#xo-token").val(),op:"change-view",logo_mode:t,mode:e};a("#view-canvas").xoPreload({action:"show"}),a.post("modules.php",n,function(o){return o.error?(new PNotify({title:o.message.title,text:o.message.text,delay:7e3,type:"danger",nonblock:{nonblock:!0,nonblock_opactity:.2}}),!1):(a("#view-canvas > #table-installed-modules,#view-canvas > #cards-installed-modules").fadeOut(250,function(){a(this).remove(),a("#view-canvas").html(o.content),a("#view-canvas").xoPreload({action:"hide"})}),void a("#view-canvas").data("mode",o.mode))},"json")}var t={};a(document).ready(function(){a("body").on("click","*[data-action]",function(){var o=a(this).data("id"),e=a(this).data("action").replace("-","_");return"function"==typeof t[e]?t[e](o):!1}),a("input[name='view_mode'],input[name='view_logo']").change(function(){var o=a("#view-canvas");if("view_mode"==a(this).attr("name")&&o.data("mode")==a(this).data("mode"))return!1;var t="view_mode"==a(this).attr("name")?a(this).data("mode"):a(".header-commands input[name='view_mode']:checked").data("mode"),n="view_logo"==a(this).attr("name")?a(this).data("mode"):a(".header-commands input[name='view_logo']:checked").data("mode");e(a(this),t,n)}),a(".rename").editable("admin.php?fct=modulesadmin&op=rename",{indicator:"<img src='../../media/xoops/images/spinner.gif'>",cssclass:"span2"}),a("body").on("click",".module-info",function(){a("body").xoPreload();var o={XOOPS_TOKEN_REQUEST:a("#xoops-token").val(),op:"details",mid:a(this).data("mid")};return a.post("modules.php",o,function(o){return o.error?(xoops.modal.alert(o.message),a("body").xoPreload({action:"hide"}),!1):(xoops.modal.dialog({title:o.title,message:o.content,color:"primary",buttons:{main:{label:o.close,className:"btn-primary"}}}),void a("body").xoPreload({action:"hide"}))},"json"),!1})}),t.update_module=o}(jQuery);
