function module_Detail(e){var t=$("#mid-"+e).position();$("#detail-"+e).css({position:"absolute","box-shadow":"2px 2px 1px #888",top:t.top+"px",left:t.left+"px"}),$("#detail-"+e).slideDown(600)}function module_Disable(e,t,n){$.post("admin.php",{fct:"modulesadmin",op:"active",mid:e},function(o,i){"success"==i&&(o?($("#active-"+e).html('<span class="icon icon-tick"></span>'+t),$("#active-table-"+e).html('<span class="icon icon-tick">&nbsp;</span>')):($("#active-"+e).html('<span class="icon icon-cross"></span>'+n),$("#active-table-"+e).html('<span class="icon icon-cross">&nbsp;</span>')))})}function module_Hide(e){$.post("modules.php",{op:"display_in_menu",mid:e},function(t,n){"success"==n&&$("#menu-hide-"+e).html(0!=t?'<span class="cursorpointer icon icon-cross">&nbsp;</span>':'<span class="cursorpointer icon icon-tick">&nbsp;</span>')})}function module_Install(e){$(".modal-backdrop").show(),$("#install-dir").val(e),$("#install .modal-data").html($("#data-"+e+" .module_card").html()),$("#install").show("slow")}function module_Update(e){$(".modal-backdrop").show(),$("#update-id").val(e),$("#update .modal-data").html($("#data-"+e+" .module_card").html()),$("#update").show("slow")}function module_Uninstall(e){$(".modal-backdrop").show(),$("#uninstall-id").val(e),$("#uninstall .modal-data").html($("#data-"+e+" .module_card").html()),$("#uninstall").show("slow")}!function(e){function t(e){alert(e)}function n(t,n,o){var i={XOOPS_TOKEN_REQUEST:e("#xo-token").val(),op:"change-view",logo_mode:o,mode:n};e("#view-canvas").xoPreload({action:"show"}),e.post("modules.php",i,function(t){return t.error?(xoops.notify({title:t.message.title,text:t.message.text,delay:7e3,type:"danger",nonblock:{nonblock:!0,nonblock_opactity:.2}}),e("#view-canvas").xoPreload({action:"hide"}),!1):(e("#view-canvas > #table-installed-modules,#view-canvas > #cards-installed-modules").fadeOut(250,function(){e(this).remove(),e("#view-canvas").html(t.content),e("#view-canvas").xoPreload({action:"hide"})}),void e("#view-canvas").data("mode",t.mode))},"json")}var o={};e(document).ready(function(){e("body").on("click","*[data-action]",function(){var t=e(this).data("id"),n=e(this).data("action").replace("-","_");return"function"==typeof o[n]?o[n](t):!1}),e("input[name='view_mode'],input[name='view_logo']").change(function(){var t=e("#view-canvas");if("view_mode"==e(this).attr("name")&&t.data("mode")==e(this).data("mode"))return!1;var o="view_mode"==e(this).attr("name")?e(this).data("mode"):e(".header-commands input[name='view_mode']:checked").data("mode"),i="view_logo"==e(this).attr("name")?e(this).data("mode"):e(".header-commands input[name='view_logo']:checked").data("mode");n(e(this),o,i)}),e(".rename").editable("admin.php?fct=modulesadmin&op=rename",{indicator:"<img src='../../media/xoops/images/spinner.gif'>",cssclass:"span2"}),e("body").on("click",'[data-action="module-info"]',function(){e("body").xoPreload();var t={XOOPS_TOKEN_REQUEST:e("#xoops-token").val(),op:"details",mid:e(this).data("mid")};return e.get("modules.php",t,function(t){return t.error?(xoops.modal.alert(t.message),e("body").xoPreload({action:"hide"}),!1):(xoops.modal.dialog({title:t.title,message:t.content,color:"primary",id:"module-details",buttons:{main:{label:t.close,className:"btn-primary"}}}),void e("body").xoPreload({action:"hide"}))},"json"),!1})}),o.update_module=t}(jQuery);
